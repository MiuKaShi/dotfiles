#!/bin/sh

# open pdf based on citekey

if [ -z "$1" ]; then
    citekey=$(cat $BIB | grep '@' | grep -oP '(?<={).*' | tr -d ',' | dmenu -i -p "Open Papers:")
else
    citekey="$1"
fi

pdfpath=$(bibtool -r biblatex -X "$citekey$" "$BIB" | awk '/File/ {print $3}' | tr -d '{}')
xdg-open "$pdfpath" &
