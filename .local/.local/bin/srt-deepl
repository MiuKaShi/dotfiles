#!/bin/bash

# dependence https://github.com/sinedie/SRTranslator

# Set the DEEPL_TOKEN variable to the value of the DEEPL_KEY file in the .api_keys directory in the user's home directory
DEEPL_TOKEN="$(cat "${HOME}"/.api_keys/DEEPL_KEY)"
# bg : Bulgarian
# zh : Chinese -Only for source language-
# zh-Hans : Chinese (Simplified) -Only usable for destination language-
# zh-Hant : Chinese (Traditional) -Only usable for destination language-
# cs : Czech
# da : Danish
# nl : Dutch
# en: English -Only for source language-
# en-US : English (American) -Only usable for destination language-
# en-GB : English (British) -Only usable for destination language-
# et : Estonian
# fi : Finnish
# fr : French
# de : German
# el : Greek
# hu : Hungarian
# id : Indonesian
# it : Italian
# ja : Japanese
# ko : Korean
# lv : Latvian
# lt : Lithuanian
# pl : Polish
# pt : Portuguese  -Only for source language-
# pt-PT : Portuguese  -Only usable for destination language-
# pt-BR : Portuguese (Brazilian,  -Only usable for destination language-
# ro : Romanian
# ru : Russian
# sk : Slovak
# sl : Slovenian
# es : Spanish
# sv : Swedish
# tr : Turkish
# uk : Ukrainian
SRC_LANG="en-US"
DEST_LANG="zh"

# shellcheck source=/.config/mamba/mamba_env.sh
source ~/.config/mamba/mamba_env.sh
micromamba activate srt_env
python -m srtranslator "$1" -i "$SRC_LANG" -o "$DEST_LANG" -t deepl-api --auth "$DEEPL_TOKEN"
