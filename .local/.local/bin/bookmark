#!/bin/sh

# Set the bookmark directory
BOOKMARK_DIR="/home/miuka/Documents/bookmark"

# Get the absolute path of the file to be bookmarked
FILE=$(readlink -f "$1")

# Get the name of the file
NAME=$(basename "$FILE")

# Add a file to the bookmark directory
add_to_bookmark() {
    if [ -f "$BOOKMARK_DIR/$NAME" ]; then
        notify-send -t 2000 "File already bookmarked"
    else
        cp -r "$FILE" "$BOOKMARK_DIR"
        notify-send -t 2000 "File added to bookmarks"
    fi
}

# Remove a file from the bookmark directory
remove_from_bookmark() {
    if [ -f "$BOOKMARK_DIR/$NAME" ]; then
        trash "$BOOKMARK_DIR/$NAME"
        notify-send -t 2000 "File removed from bookmarks"
    else
        notify-send -t 2000 "File not bookmarked"
    fi
}

# Prompt the user to add or remove a bookmark using dmenu
case "$(printf "ðŸ”– add\nðŸš® remove" | dmenu -i -p 'ðŸ“‘ Bookmark: ')" in
    'ðŸ”– add') add_to_bookmark ;;
    'ðŸš® remove') remove_from_bookmark ;;
esac
