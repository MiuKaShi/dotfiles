<?xml version='1.0'?>
<!DOCTYPE fontconfig SYSTEM 'fonts.dtd'>
<fontconfig>
  <!-- rendering options -->
  <match target="font">
    <edit mode="assign" name="autohint">
      <bool>false</bool>
    </edit>
    <edit mode="assign" name="hinting">
      <bool>true</bool>
    </edit>
    <!-- set hintstyle -->
    <edit mode="assign" name="hintstyle">
      <const>hintslight</const>
    </edit>
	<!-- 抗锯齿. 除非你的屏幕DPI奇高否则建议开启. -->
    <edit mode="assign" name="antialias">
      <bool>true</bool>
    </edit>
	<!-- lcdlight表示优先减轻笔画模糊程度，lcddefault表示优先消除彩色边纹 -->
    <edit mode="assign" name="lcdfilter">
      <const>lcddefault</const>
    </edit>
	<!-- set subpixel layout: http://www.lagom.nl/lcd-test/subpixel.php -->
    <edit name="rgba" mode="assign">
      <const>rgb</const>
    </edit>
  </match>

  <!-- no embeddedbitmap except for emoji -->
  <match target="font">
    <test name="family" compare="not_eq">
      <string>Noto Color Emoji</string>
    </test>
    <edit name="embeddedbitmap" mode="assign">
      <bool>false</bool>
    </edit>
  </match>

  <!-- no antialias for emoji -->
  <match target="font">
    <test name="prgname" compare="eq">
      <string>gvim</string>
    </test>
    <test name="family" compare="eq">
      <string>Noto Color Emoji</string>
    </test>
    <edit mode="assign" name="antialias">
      <bool>false</bool>
    </edit>
  </match>

  <!-- includes -->
  <include prefix="xdg">fontconfig/web-ui-fonts.conf</include>
  <include prefix="xdg">fontconfig/source-han-for-noto-cjk.conf</include>

  <!-- font replace with WenQuanYi -->
  <match target="pattern">
    <test name="family">
      <string>Mingliu</string>
    </test>
    <edit binding="strong" mode="prepend" name="family">
      <string>H-SiuNiu</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="family">
      <string>宋体</string>
    </test>
    <edit binding="strong" mode="prepend" name="family">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="family">
      <string>新宋体</string>
    </test>
    <edit binding="strong" mode="prepend" name="family">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="family">
      <string>Simsun</string>
    </test>
    <edit binding="strong" mode="prepend" name="family">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="family">
      <string>NSimSun</string>
    </test>
    <edit binding="strong" mode="prepend" name="family">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="family">
      <string>新細明體</string>
    </test>
    <edit binding="strong" mode="prepend" name="family">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="family">
      <string>細明體</string>
    </test>
    <edit binding="strong" mode="prepend" name="family">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="family">
      <string>黑体</string>
    </test>
    <edit binding="strong" mode="prepend" name="family">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="family">
      <string>simhei</string>
    </test>
    <edit binding="strong" mode="prepend" name="family">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>

  <!-- maps to Nimbus Mono PS whose ligatures have wrong width -->
  <match target="pattern">
    <test name="family">
      <string>Courier</string>
    </test>
    <edit binding="strong" mode="prepend" name="family">
      <string>monospace</string>
    </edit>
  </match>

  <match target="pattern">
    <test name="family">
      <string>Roboto Mono</string>
    </test>
    <edit mode="prepend" name="family">
      <string>monospace</string>
    </edit>
  </match>


  <!-- default fonts for Japanese -->
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>ja</string>
    </test>
    <test name="family">
      <string>monospace</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>MonoLisa Nerd Font</string>
      <string>Ume Mincho</string>
      <string>HanaMinA</string>
      <string>HanaMinB</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>ja</string>
    </test>
    <test name="family">
      <string>serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>DejaVu Serif</string>
      <string>Ume Mincho</string>
      <string>HanaMinA</string>
      <string>HanaMinB</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>ja</string>
    </test>
    <test name="family">
      <string>sans-serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>DejaVu Sans</string>
      <string>Source Han Sans</string>
    </edit>
  </match>

  <!-- default fonts for Korean -->
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>ko</string>
    </test>
    <test name="family">
      <string>monospace</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>MonoLisa Nerd Font</string>
      <string>Source Han Sans</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>ko</string>
    </test>
    <test name="family">
      <string>serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>DejaVu Serif</string>
      <string>Source Han Serif</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>ko</string>
    </test>
    <test name="family">
      <string>sans-serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>DejaVu Sans</string>
      <string>Source Han Sans</string>
    </edit>
  </match>

  <!-- default fonts for Chinese (Traditional) -->
  <match target="pattern">
    <test name="lang" compare="eq">
      <string>zh-Hant</string>
    </test>
    <test name="family">
      <string>monospace</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>MonoLisa Nerd Font</string>
      <string>Source Han Sans</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="lang" compare="eq">
      <string>zh-Hant</string>
    </test>
    <test name="family">
      <string>serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>DejaVu Serif</string>
      <string>Source Han Serif</string>
      <string>H-SiuNiu</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="lang" compare="eq">
      <string>zh-Hant</string>
    </test>
    <test name="family">
      <string>sans-serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>DejaVu Sans</string>
      <string>Source Han Sans</string>
    </edit>
  </match>

  <!-- default fonts for Chinese (Taiwan) -->
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>zh-</string>
    </test>
    <test name="lang" compare="contains">
      <string>-TW</string>
    </test>
    <test name="family">
      <string>monospace</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>MonoLisa Nerd Font</string>
      <string>Source Han Sans</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>zh-</string>
    </test>
    <test name="lang" compare="contains">
      <string>-TW</string>
    </test>
    <test name="family">
      <string>serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>DejaVu Serif</string>
      <string>Source Han Serif</string>
      <string>H-SiuNiu</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>zh-</string>
    </test>
    <test name="lang" compare="contains">
      <string>-TW</string>
    </test>
    <test name="family">
      <string>sans-serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>DejaVu Sans</string>
      <string>Source Han Sans</string>
    </edit>
  </match>

  <!-- default fonts for Chinese (Hong Kong) -->
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>zh-</string>
    </test>
    <test name="lang" compare="contains">
      <string>-HK</string>
    </test>
    <test name="family">
      <string>monospace</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>MonoLisa Nerd Font</string>
      <string>Source Han Sans</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>zh-</string>
    </test>
    <test name="lang" compare="contains">
      <string>-HK</string>
    </test>
    <test name="family">
      <string>serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>DejaVu Serif</string>
      <string>Source Han Serif</string>
      <string>AR PL UMing HK</string>
    </edit>
  </match>
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>zh-</string>
    </test>
    <test name="lang" compare="contains">
      <string>-HK</string>
    </test>
    <test name="family">
      <string>sans-serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>DejaVu Sans</string>
      <string>Source Han Sans</string>
    </edit>
  </match>

  <!-- default fonts -->
	<!-- set serif fonts -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Libertinus Serif</string>
      <string>WenQuanYi Zen Hei</string>
      <string>Source Han Serif</string>
      <string>Joy Pixels</string>
      <string>Noto Color Emoji</string>
      <string>FontAwesome</string>
      <string>Noto Naskh Arabic</string>
    </edit>
  </match>
	<!-- set sans-serif fonts -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>sans-serif</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Libertinus Sans</string>
      <string>WenQuanYi Zen Hei</string>
      <string>Joy Pixels</string>
      <string>Noto Color Emoji</string>
      <string>FontAwesome</string>
      <string>Source Han Sans</string>
    </edit>
  </match>
	<!-- set sans fonts -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>sans</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Libertinus Sans</string>
      <string>Joy Pixels</string>
      <string>Noto Color Emoji</string>
      <string>FontAwesome</string>
    </edit>
  </match>
	<!-- set monospace fonts -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>monospace</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>MonoLisa Nerd Font</string>
      <string>WenQuanYi Zen Hei Mono</string>
      <string>Libertinus Mono</string>
      <string>FontAwesome</string>
      <string>Braille</string>
      <string>Source Han Sans</string>
    </edit>
  </match>

  <!-- 样式调整 -->
  <match target="scan">
    <test qual="any" name="family">
      <string>WenQuanYi Zen Hei Mono</string>
    </test>
    <edit name="slant" binding="same" mode="append">
      <const>Italic</const>
    </edit>
  </match>

  <!-- 别名 -->
  <alias binding="strong">
    <family>黑體</family>
    <accept>
      <family>Microsoft YaHei</family>
    </accept>
  </alias>
  <alias binding="strong">
    <family>FangSong</family>
    <accept>
      <family>FangSong_GB2312</family>
    </accept>
  </alias>
  <alias binding="strong">
    <family>仿宋</family>
    <accept>
      <family>FangSong_GB2312</family>
    </accept>
  </alias>
  <alias binding="strong">
    <family>KaiTi</family>
    <accept>
      <family>KaiTi_GB2312</family>
    </accept>
  </alias>
  <alias binding="strong">
    <family>KaiTi SC</family>
    <accept>
      <family>KaiTi_GB2312</family>
    </accept>
  </alias>
  <alias binding="strong">
    <family>楷体</family>
    <accept>
      <family>KaiTi_GB2312</family>
    </accept>
  </alias>
  <alias binding="strong">
    <family>Twemoji Mozilla</family>
    <accept>
      <family>Noto Color Emoji</family>
    </accept>
  </alias>

  <!-- 微软雅黑 -->
  <!-- Web pages tend to use this font, but it displays badly. -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>微软雅黑</string>
    </test>
    <test name="prgname" compare="eq">
      <string>mercury</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>
  <match target="pattern">
    <test qual="any" name="family">
      <string>Microsoft YaHei</string>
    </test>
    <test name="prgname" compare="eq">
      <string>mercury</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>
  <!-- Firefox Nightly -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>微软雅黑</string>
    </test>
    <test name="prgname" compare="eq">
      <string>mercury-browser</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>
  <match target="pattern">
    <test qual="any" name="family">
      <string>Microsoft YaHei</string>
    </test>
    <test name="prgname" compare="eq">
      <string>firefox-bin</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>WenQuanYi Zen Hei</string>
    </edit>
  </match>

  <match target="pattern">
    <test qual="any" name="family">
      <string>微软雅黑</string>
    </test>
    <edit name="hinting" mode="assign">
      <bool>false</bool>
    </edit>
    <edit name="hintstyle" mode="assign">
      <const>hintnone</const>
    </edit>
    <edit name="autohint" mode="assign">
      <bool>true</bool>
    </edit>
  </match>
  <match target="pattern">
    <test qual="any" name="family">
      <string>Microsoft YaHei</string>
    </test>
    <edit name="hinting" mode="assign">
      <bool>false</bool>
    </edit>
    <edit name="hintstyle" mode="assign">
      <const>hintnone</const>
    </edit>
    <edit name="autohint" mode="assign">
      <bool>true</bool>
    </edit>
  </match>

	<!-- for specific programs {{{1 -->
 	<match>
   	<test qual="any" name="family">
       	<string>MonoLisa Nerd Font</string>
   	</test>
   	<test name="prgname" compare="eq" qual="any">
       	<string>kitty</string>
   	</test>
   	<edit name="family" mode="prepend" binding="weak">
     	<string>JoyPixels</string>
   	</edit>
  </match>

</fontconfig>
